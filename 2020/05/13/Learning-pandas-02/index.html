<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="计算机," />










<meta name="description" content="索引">
<meta property="og:type" content="article">
<meta property="og:title" content="Pandas学习（二）">
<meta property="og:url" content="http://example.com/2020/05/13/Learning-pandas-02/index.html">
<meta property="og:site_name" content="Next">
<meta property="og:description" content="索引">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-05-13T08:23:41.000Z">
<meta property="article:modified_time" content="2022-04-15T08:36:59.043Z">
<meta property="article:author" content="nanaiii">
<meta property="article:tag" content="计算机">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'nanaiii'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2020/05/13/Learning-pandas-02/"/>





  <title>Pandas学习（二） | Next</title>
  








<meta name="generator" content="Hexo 6.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Next</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">nanaiii blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/13/Learning-pandas-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Next">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Pandas学习（二）</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T16:23:41+08:00">
                2020-05-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  9 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><span id="more"></span>

<h2 id="单级索引"><a href="#单级索引" class="headerlink" title="单级索引"></a>单级索引</h2><h3 id="loc方法"><a href="#loc方法" class="headerlink" title="loc方法"></a>loc方法</h3><p><strong>DataFrame.loc</strong>通过标签或布尔数组访问一组行和列。</p>
<p>允许的输入为：</p>
<ul>
<li><p>单个标签，例如5或’a’，（请注意，它5被解释为索引的标签，而不是沿索引的整数位置）。</p>
</li>
<li><p>标签列表或数组，例如。[‘a’, ‘b’, ‘c’]</p>
</li>
<li><p>带有标签的切片对象，例如’a’:’f’。<em>警告：需要注意的是违背了普通的Python片，都开始和停止都包括</em></p>
</li>
<li><p>与要切片的轴长度相同的布尔数组，例如。[True, False, True]</p>
</li>
<li><p>一个callable带有一个参数的函数（调用Series或DataFrame），并返回有效的输出以进行索引（上述之​​一）</p>
</li>
</ul>
<blockquote>
<p>Note：当loc使用[] 索引全部index时返回Series，而使用 [[ ]]则返回DataFrame</p>
</blockquote>
<!--more--> 

<h3 id="iloc方法"><a href="#iloc方法" class="headerlink" title="iloc方法"></a>iloc方法</h3><p><strong>DataFrame.iloc</strong>基于位置的纯基于整数位置的索引。</p>
<p>允许的输入为：</p>
<ul>
<li><p>整数，例如5。</p>
</li>
<li><p>整数列表或数组，例如。[4, 3, 0]</p>
</li>
<li><p>具有整数的切片对象，例如1:7。<em>与loc不同切片不包含右端点。</em></p>
</li>
<li><p>布尔数组</p>
</li>
<li><p>一个callable具有一个参数的函数（调用Series或DataFrame），并且返回用于索引的有效输出（上述之一）。当您没有对调用对象的引用，但希望基于某个值进行选择时，这在方法链中很有用。</p>
</li>
</ul>
<h3 id="操作符"><a href="#操作符" class="headerlink" title="[ ]操作符"></a>[ ]操作符</h3><h4 id="Series的-操作"><a href="#Series的-操作" class="headerlink" title="Series的[]操作"></a>Series的[]操作</h4><ul>
<li><p>单元素索引： <code>df[&#39;name&#39;]</code></p>
</li>
<li><p>多行索引： <code>df[0:4]</code></p>
</li>
<li><p>函数式索引： <code>df[lambda x: f(x)]</code> .f(x)应返回一个元素切片。<br><code>df[f(df)]</code> .f(df)应返回一个与轴长相同大小的布尔数组。</p>
</li>
</ul>
<h4 id="DataFrame的-操作"><a href="#DataFrame的-操作" class="headerlink" title="DataFrame的[]操作"></a>DataFrame的[]操作</h4><ul>
<li>单行，多行索引。单列索引要获得某个元素时，先使用get_loc方法,如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">row = df.index.get_loc(<span class="string">&quot;XXX&quot;</span>) </span><br><span class="line"><span class="comment">#将此处的&quot;XXX&quot;换为想索引的元素</span></span><br><span class="line">df[row:row+<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>单列，多列索引</p>
</li>
<li><p>函数式索引</p>
</li>
<li><p>布尔索引</p>
</li>
</ul>
<blockquote>
<p>Note: 一般来说，[]操作符常用于列选择或布尔选择，尽量避免行的选择</p>
</blockquote>
<blockquote>
<p>布尔符号：’&amp;’, ‘|’, ‘~’：分别代表和and，或or，取反not.</p>
</blockquote>
<blockquote>
<p>布尔索引的操作一般在loc和[]中进行。</p>
</blockquote>
<h3 id="isin方法"><a href="#isin方法" class="headerlink" title="isin方法"></a>isin方法</h3><p>**DataFrame.isin(self, values) → ‘DataFrame’**返回一个显示DataFrame中的每个元素是否包含在值中的DataFrame(values为boolean).</p>
<ul>
<li><p>当values是列表时，请检查列表中是否存在DataFrame中的每个值</p>
</li>
<li><p>当values是dict时，我们可以传递值以分别检查每一列：</p>
</li>
<li><p>当values是Series或DataFrame时，索引和列必须匹配。</p>
</li>
</ul>
<h3 id="at和iat方法"><a href="#at和iat方法" class="headerlink" title="at和iat方法"></a>at和iat方法</h3><p>当只需要取一个元素时，at和iat方法能够提供更快的实现.</p>
<h3 id="interval-range方法"><a href="#interval-range方法" class="headerlink" title="interval_range方法"></a>interval_range方法</h3><p>**pandas.interval_range(start&#x3D;None, end&#x3D;None, periods&#x3D;None, freq&#x3D;None, name&#x3D;None, closed&#x3D;’right’)**返回一个fixed<br>frequency的IntervalIndex。</p>
<ul>
<li><p>closed参数可选’left’’right’’both’’neither’，默认左开右闭</p>
</li>
<li><p>periods参数控制区间个数</p>
</li>
<li><p>freq控制步长</p>
</li>
<li><p>name该IntervalIndex的名称</p>
</li>
</ul>
<h3 id="cut方法"><a href="#cut方法" class="headerlink" title="cut方法"></a>cut方法</h3><p><strong>pandas.cut(x, bins, right: bool &#x3D; True, labels&#x3D;None, retbins: bool &#x3D; False, precision: int &#x3D; 3, include_lowest: bool &#x3D;<br>False, duplicates: str &#x3D; ‘raise’)</strong><br>利用cut将数值列转为区间为元素的分类变量，</p>
<ul>
<li><p>x: 输入数组, 必须是一维的</p>
</li>
<li><p>bins:(int，sequence of scalars或IntervalIndex)    int：定义x范围内的等宽bin数。x的范围在每一侧都扩展了0.1％，以包括x的最小值和最大值。 sequence of<br>scalars：定义bin边缘以允许非均匀宽度。x的范围没有扩展。 IntervalIndex：定义要使用的确切容器。请注意，bin的 IntervalIndex 必须不重叠。</p>
</li>
<li><p>right (Boolean): 是否包括右端点</p>
</li>
</ul>
<h2 id="多级索引-MultiIndex"><a href="#多级索引-MultiIndex" class="headerlink" title="多级索引 MultiIndex"></a>多级索引 MultiIndex</h2><h3 id="1-创建多级索引"><a href="#1-创建多级索引" class="headerlink" title="1. 创建多级索引"></a>1. 创建多级索引</h3><ul>
<li>先创建元组(zip方法), Array等, 再调用MultiIndex中from_tuple, from_arrays, from_product.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arrays = [[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;a&#x27;</span>],[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;b&#x27;</span>],[<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;a&#x27;</span>],[<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]]</span><br><span class="line">mul_index = pd.MultiIndex.from_tuples(arrays, names=(<span class="string">&#x27;Upper&#x27;</span>, <span class="string">&#x27;Lower&#x27;</span>))</span><br><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;Score&#x27;</span>:[<span class="string">&#x27;perfect&#x27;</span>,<span class="string">&#x27;good&#x27;</span>,<span class="string">&#x27;fair&#x27;</span>,<span class="string">&#x27;bad&#x27;</span>]&#125;,index=mul_index)</span><br></pre></td></tr></table></figure>

<ul>
<li>直接调用set_index方法, 指定df中的列创建.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_using_mul = df.set_index([<span class="string">&#x27;Class&#x27;</span>,<span class="string">&#x27;Address&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h3 id="2-多层索引切片"><a href="#2-多层索引切片" class="headerlink" title="2. 多层索引切片"></a>2. 多层索引切片</h3><p>切片前要对索引进行排序, 否则报出性能警告或直接报错.</p>
<h3 id="3-多层索引中的slice对象"><a href="#3-多层索引中的slice对象" class="headerlink" title="3. 多层索引中的slice对象"></a>3. 多层索引中的slice对象</h3><p>通过 <code>idx=pd.IndexSlice</code> 获取slice对象, 以更轻松地执行多索引切片.</p>
<h3 id="4-索引层的交换"><a href="#4-索引层的交换" class="headerlink" title="4. 索引层的交换"></a>4. 索引层的交换</h3><ul>
<li><p><strong>DataFrame.swaplevel(self, i&#x3D;-2, j&#x3D;-1, axis&#x3D;0) → ‘DataFrame’</strong> 在特定轴上的MultiIndex中交换级别i和j.</p>
</li>
<li><p><strong>DataFrame.reorder_levels(self, order, axis&#x3D;0) → ‘DataFrame’</strong> 使用输入顺序重新排列索引级别。</p>
</li>
</ul>
<h2 id="索引设定"><a href="#索引设定" class="headerlink" title="索引设定"></a>索引设定</h2><h3 id="1-index-col参数"><a href="#1-index-col参数" class="headerlink" title="1. index_col参数"></a>1. index_col参数</h3><p>index_col是read_csv中的一个参数，而不是某一个方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">&#x27;data/table.csv&#x27;</span>,index_col=[<span class="string">&#x27;Address&#x27;</span>,<span class="string">&#x27;School&#x27;</span>]).head()</span><br></pre></td></tr></table></figure>

<h3 id="2-reindex与reindex-like方法"><a href="#2-reindex与reindex-like方法" class="headerlink" title="2. reindex与reindex_like方法"></a>2. reindex与reindex_like方法</h3><p>**DataFrame.reindex(self, labels&#x3D;None, index&#x3D;None, columns&#x3D;None, axis&#x3D;None, method&#x3D;None, copy&#x3D;True, level&#x3D;None,<br>fill_value&#x3D;nan, limit&#x3D;None, tolerance&#x3D;None)**使用可选的填充逻辑使DataFrame符合新索引。</p>
<p><strong>DataFrame.reindex_like(self: ~FrameOrSeries, other, method: Union[str, NoneType] &#x3D; None, copy: bool &#x3D; True,<br>limit&#x3D;None, tolerance&#x3D;None) → ~FrameOrSeries</strong>为生成一个横纵索引完全与参数列表一致的DataFrame，数据使用被调用的表.</p>
<ul>
<li>method:{None, ‘backfill’&#x2F;’bfill’, ‘pad’&#x2F;’ffill’, ‘nearest’}</li>
</ul>
<p>用于在重新索引的 DataFrame中填充孔的方法。请注意：这仅适用于具有单调递增&#x2F;递减索引的DataFrames &#x2F; Series。</p>
<ol>
<li><p>None（默认）：不填补空白</p>
</li>
<li><p>backfill&#x2F;bfill：将上一个有效观察值向前传播到下一个有效值。</p>
</li>
<li><p>pad&#x2F;ffill：使用下一个有效观察值填充空白。</p>
</li>
<li><p>nearest：使用最近的有效观测值来填补空白。</p>
</li>
</ol>
<ul>
<li>fill_value: 标量，默认为np. NaN. 用于填充缺失值的值。默认为NaN，但可以是任何“兼容”值。</li>
</ul>
<h3 id="3-set-index与reset-index方法"><a href="#3-set-index与reset-index方法" class="headerlink" title="3. set_index与reset_index方法"></a>3. set_index与reset_index方法</h3><p>**DataFrame.set_index(self, keys, drop&#x3D;True, append&#x3D;False, inplace&#x3D;False, verify_integrity&#x3D;False)**使用现有列设置DataFrame索引。</p>
<p>**DataFrame.reset_index(self, level: Union[Hashable, Sequence[Hashable], NoneType] &#x3D; None, drop: bool &#x3D; False, inplace:<br>bool &#x3D; False, col_level: Hashable &#x3D; 0, col_fill: Union[Hashable, NoneType] &#x3D; ‘’) →<br>Union[ForwardRef(‘DataFrame’), NoneType]**重置索引或索引的级别。</p>
<ul>
<li><p>inplace: bool, default False 就地修改DataFrame(不创建新的对象)</p>
</li>
<li><p>dropbool, default False 不要尝试将索引插入数据框列。这会将索引重置为默认的整数索引</p>
</li>
<li><p>col_levelint or str, default 0 如果列有多个级别，请确定将标签插入到哪个级别。默认情况下，它被插入第一级。</p>
</li>
<li><p>col_fillobject, default ‘’ 如果列具有多个级别，请确定如何命名其他级别。如果为None，则重复索引名称。</p>
</li>
<li><p>appendbool, default False 是否将列追加到现有索引。</p>
</li>
<li><p>verify_integrity bool，default False 检查新索引是否重复。否则，将检查推迟到必要时进行。设置为False将提高此方法的性能。</p>
</li>
</ul>
<h3 id="4-rename-axis和rename方法"><a href="#4-rename-axis和rename方法" class="headerlink" title="4. rename_axis和rename方法"></a>4. rename_axis和rename方法</h3><p><strong>DataFrame.rename_axis(self, mapper&#x3D;None, index&#x3D;None, columns&#x3D;None, axis&#x3D;None, copy&#x3D;True, inplace&#x3D;False)</strong><br>rename_axis是针对多级索引的方法，作用是修改某一层的索引名，而不是索引标签.</p>
<p>*<em>DataFrame.rename(mapper&#x3D;None, <em>, index&#x3D;None, columns&#x3D;None, axis&#x3D;None, copy&#x3D;True, inplace&#x3D;False, level&#x3D;None,<br>errors&#x3D;’ignore’) -&gt; DataFrame</em></em><br>rename方法用于修改列或者行索引标签，而不是索引名</p>
<ul>
<li><p>index, columnsscalar, list-like, dict-like or function, optional 标量，类似于列表，类似于dict或函数的转换，以应用于该轴的值.<br>使用mapper和axis可以使用mapper或index 和&#x2F;或指定要指定的轴columns。</p>
</li>
<li><p>axis{0 or ‘index’, 1 or ‘columns’}, default 0 重命名的轴</p>
</li>
</ul>
<h2 id="常用索引型函数"><a href="#常用索引型函数" class="headerlink" title="常用索引型函数"></a>常用索引型函数</h2><h3 id="1-where方法"><a href="#1-where方法" class="headerlink" title="1.where方法"></a>1.where方法</h3><p><strong>DataFrame.where(self, cond, other&#x3D;nan, inplace&#x3D;False, axis&#x3D;None, level&#x3D;None, errors&#x3D;’raise’, try_cast&#x3D;False)</strong></p>
<ul>
<li><p>condbool Series&#x2F;DataFrame, array-like, or callable 如果 cond为True，请保留原始值。如果为 False，则用other中的相应值替换。如果cond是可调用的，则它是在Series<br>&#x2F; DataFrame上计算的，并且应返回布尔Series &#x2F; DataFrame或数组。可调用对象不得更改输入Series &#x2F; DataFrame(尽管pandas不会对其进行检查)。</p>
</li>
<li><p>otherscalar, Series&#x2F;DataFrame, or callable 如果other是可调用的，则在Series &#x2F; DataFrame上对其进行计算，并应返回标量或Series &#x2F;<br>DataFrame。可调用对象不得更改输入Series &#x2F; DataFrame</p>
</li>
</ul>
<h3 id="2-mask函数"><a href="#2-mask函数" class="headerlink" title="2. mask函数"></a>2. mask函数</h3><p>mask函数与where功能上相反，其余完全一致，即对条件为True的单元进行填充</p>
<h3 id="3-query函数"><a href="#3-query函数" class="headerlink" title="3. query函数"></a>3. query函数</h3><p>**DataFrame.query(self, expr, inplace&#x3D;False, <strong>kwargs)</strong><br>使用布尔表达式查询 DataFrame的列</p>
<blockquote>
<p>query函数中的布尔表达式中，下面的符号都是合法的：行列索引名、字符串、and&#x2F;not&#x2F;or&#x2F;&amp;&#x2F;|&#x2F;~&#x2F;not in&#x2F;in&#x2F;&#x3D;&#x3D;&#x2F;!&#x3D;、四则运算符</p>
</blockquote>
<h2 id="重复元素处理"><a href="#重复元素处理" class="headerlink" title="重复元素处理"></a>重复元素处理</h2><h3 id="1-duplicated方法"><a href="#1-duplicated方法" class="headerlink" title="1. duplicated方法"></a>1. duplicated方法</h3><p>**DataFrame.duplicated(self, subset: Union[Hashable, Sequence[Hashable], NoneType] &#x3D; None, keep: Union[str, bool] &#x3D; ‘<br>first’) → ‘Series’**返回表示重复行的布尔系列。</p>
<ul>
<li>keep{‘first’, ‘last’, False}, default ‘first’ Determines which duplicates (if any) to mark.</li>
</ul>
<ol>
<li><p>first : 首次出现设为不重复</p>
</li>
<li><p>last : 最后一次设为不重复</p>
</li>
<li><p>False : 则所有重复项为False</p>
</li>
</ol>
<h3 id="2-drop-duplicates方法"><a href="#2-drop-duplicates方法" class="headerlink" title="2. drop_duplicates方法"></a>2. drop_duplicates方法</h3><p><strong>DataFrame.drop_duplicates(self, subset: Union[Hashable, Sequence[Hashable], NoneType] &#x3D; None, keep: Union[str, bool]<br>&#x3D; ‘first’, inplace: bool &#x3D; False, ignore_index: bool &#x3D; False) → Union[ForwardRef(‘DataFrame’), NoneType]</strong><br>返回已删除重复行的DataFrame。</p>
<ul>
<li>ignore_index bool，默认为False 如果为True，则结果轴将标记为0、1，…，n-1。</li>
</ul>
<h2 id="抽样函数-sample方法"><a href="#抽样函数-sample方法" class="headerlink" title="抽样函数 sample方法"></a>抽样函数 sample方法</h2><p><strong>DataFrame.sample(self: ~FrameOrSeries, n&#x3D;None, frac&#x3D;None, replace&#x3D;False, weights&#x3D;None, random_state&#x3D;None, axis&#x3D;None)<br>→ ~FrameOrSeries</strong><br>从对象轴返回随机的项目样本</p>
<ul>
<li><p>n int，optional 从轴返回的项目数。不能与frac一起使用。如果frac &#x3D; None，则默认&#x3D; 1</p>
</li>
<li><p>frac float, optional 要返回的抽样比。不能与n一起使用</p>
</li>
<li><p>replace bool, default False 允许或不允许对同一行进行多次采样。<em>frac大于1时, replace需为True.</em></p>
</li>
<li><p>weightsstr or ndarray-like, optional 样本权重，自动归一化</p>
</li>
</ul>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>谢谢你请我吃糖果</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/vx.png" alt=" WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/aili.png" alt=" Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag"># 计算机</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/10/Learning-servlet-02/" rel="next" title="Servlet学习（二）">
                <i class="fa fa-chevron-left"></i> Servlet学习（二）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/14/Learning-servlet-03/" rel="prev" title="Servlet学习（三）">
                Servlet学习（三） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/nanaiii349" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-globe"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:luotianyou7056@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-globe"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">1.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E7%BA%A7%E7%B4%A2%E5%BC%95"><span class="nav-number">1.1.</span> <span class="nav-text">单级索引</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#loc%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.1.</span> <span class="nav-text">loc方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iloc%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.2.</span> <span class="nav-text">iloc方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">1.1.3.</span> <span class="nav-text">[ ]操作符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Series%E7%9A%84-%E6%93%8D%E4%BD%9C"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">Series的[]操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DataFrame%E7%9A%84-%E6%93%8D%E4%BD%9C"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">DataFrame的[]操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isin%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.4.</span> <span class="nav-text">isin方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#at%E5%92%8Ciat%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.5.</span> <span class="nav-text">at和iat方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interval-range%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.6.</span> <span class="nav-text">interval_range方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cut%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.7.</span> <span class="nav-text">cut方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95-MultiIndex"><span class="nav-number">1.2.</span> <span class="nav-text">多级索引 MultiIndex</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%A7%E7%B4%A2%E5%BC%95"><span class="nav-number">1.2.1.</span> <span class="nav-text">1. 创建多级索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%A4%9A%E5%B1%82%E7%B4%A2%E5%BC%95%E5%88%87%E7%89%87"><span class="nav-number">1.2.2.</span> <span class="nav-text">2. 多层索引切片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%A4%9A%E5%B1%82%E7%B4%A2%E5%BC%95%E4%B8%AD%E7%9A%84slice%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.2.3.</span> <span class="nav-text">3. 多层索引中的slice对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E7%B4%A2%E5%BC%95%E5%B1%82%E7%9A%84%E4%BA%A4%E6%8D%A2"><span class="nav-number">1.2.4.</span> <span class="nav-text">4. 索引层的交换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E8%AE%BE%E5%AE%9A"><span class="nav-number">1.3.</span> <span class="nav-text">索引设定</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-index-col%E5%8F%82%E6%95%B0"><span class="nav-number">1.3.1.</span> <span class="nav-text">1. index_col参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-reindex%E4%B8%8Ereindex-like%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.2.</span> <span class="nav-text">2. reindex与reindex_like方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-set-index%E4%B8%8Ereset-index%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.3.</span> <span class="nav-text">3. set_index与reset_index方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-rename-axis%E5%92%8Crename%E6%96%B9%E6%B3%95"><span class="nav-number">1.3.4.</span> <span class="nav-text">4. rename_axis和rename方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B4%A2%E5%BC%95%E5%9E%8B%E5%87%BD%E6%95%B0"><span class="nav-number">1.4.</span> <span class="nav-text">常用索引型函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-where%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.1.</span> <span class="nav-text">1.where方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-mask%E5%87%BD%E6%95%B0"><span class="nav-number">1.4.2.</span> <span class="nav-text">2. mask函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-query%E5%87%BD%E6%95%B0"><span class="nav-number">1.4.3.</span> <span class="nav-text">3. query函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E5%A4%84%E7%90%86"><span class="nav-number">1.5.</span> <span class="nav-text">重复元素处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-duplicated%E6%96%B9%E6%B3%95"><span class="nav-number">1.5.1.</span> <span class="nav-text">1. duplicated方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-drop-duplicates%E6%96%B9%E6%B3%95"><span class="nav-number">1.5.2.</span> <span class="nav-text">2. drop_duplicates方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%BD%E6%A0%B7%E5%87%BD%E6%95%B0-sample%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.</span> <span class="nav-text">抽样函数 sample方法</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">nanaiii</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">95.1k</span>
  
</div>




  <span class="post-meta-divider">|</span>





<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>  Sometimes your whole life boils down to one insame move.
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/04/2022 00:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
}
setInterval("createtime()",250);
</script>

        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
